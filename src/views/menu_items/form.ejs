<% layout('../layouts/form-layout') -%>
<% block('title', item.item_id ? 'Редактировать блюдо' : 'Добавить блюдо' ) -%>
<form class="form" action="<%= action %>" method="POST">
  <div class="form_item">
    <label>Название:</label>
    <input type="text" name="name" required value="<%= item.name || '' %>">
  </div>
  <div class="form_item">
  <label>Ресторан:</label>
    <select name="restaurant_id" required>
      <% restaurants.forEach(r => { %>
        <option value="<%= r.restaurant_id %>" <%= item.restaurant_id == r.restaurant_id ? 'selected' : '' %>>
          <%= r.name %>
        </option>
      <% }) %>
    </select>
  </div>
  <div class="form_item">
    <label>Цена:</label>
    <input type="number" step="0.01" name="price" required value="<%= item.price || '' %>">
  </div>

  <div class="form_item">
    <label>
      <input type="checkbox" name="available" value="1" <%= item.available !== 0 ? 'checked' : '' %>>
      Доступно
    </label>
  </div>

  <button class="btn" type="submit">Сохранить</button>
</form>